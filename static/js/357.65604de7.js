"use strict";(self["webpackChunkvue_posts"]=self["webpackChunkvue_posts"]||[]).push([[357],{5529:function(t,e,o){o.d(e,{Z:function(){return r}});var s=o(3396),n=o(2268),a={__name:"ButtonComponent",props:{type:{type:String,required:!1}},setup(t){const e=t;return(t,o)=>((0,s.wg)(),(0,s.iD)("button",{class:(0,n.C_)(["button",e.type]),type:"button"},[(0,s.WI)(t.$slots,"default")],2))}},d=o(89);const l=(0,d.Z)(a,[["__scopeId","data-v-65789628"]]);var r=l},3494:function(t,e,o){o.d(e,{Z:function(){return p}});var s=o(3396);const n=t=>((0,s.dD)("data-v-49b088d4"),t=t(),(0,s.Cn)(),t),a={class:"loader-wrapper"},d=n((()=>(0,s._)("div",{class:"lds-roller"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1))),l=[d];function r(t,e){return(0,s.wg)(),(0,s.iD)("div",a,l)}var i=o(89);const c={},u=(0,i.Z)(c,[["render",r],["__scopeId","data-v-49b088d4"]]);var p=u},9945:function(t,e,o){o.d(e,{Z:function(){return l}});var s=o(3396),n=o(3494),a={__name:"LoaderWrapperComponent",setup(t){return(t,e)=>t.$store.state.isLoading?((0,s.wg)(),(0,s.j4)(n.Z,{key:1})):(0,s.WI)(t.$slots,"default",{key:0})}};const d=a;var l=d},3906:function(t,e,o){o.d(e,{Z:function(){return v}});var s=o(3396),n=o(9242),a=o(4870);const d=["onMousedown"],l={key:0,class:"modal-container"},r=["onMousedown"],i={class:"modal-content"};var c={__name:"ModalComponent",setup(t){const e=(0,a.iH)(!1),o=()=>{e.value=!0},c=()=>{e.value=!1};return(t,a)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:"modal-trigger",onMousedown:(0,n.iM)(o,["stop"])},[(0,s.WI)(t.$slots,"trigger")],40,d),((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(n.uT,{name:"modal"},{default:(0,s.w5)((()=>[e.value?((0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",{class:"modal-backdrop",onMousedown:(0,n.iM)(c,["stop"])},null,40,r),(0,s._)("div",i,[(0,s.WI)(t.$slots,"content",{close:c})])])):(0,s.kq)("",!0)])),_:3})]))],64))}},u=o(89);const p=(0,u.Z)(c,[["__scopeId","data-v-9f7bf18c"]]);var v=p},8357:function(t,e,o){o.r(e),o.d(e,{default:function(){return A}});var s=o(3396),n=o(4870),a=o(9242),d=o(7139),l=o(3906),r=o(5529);function i(t,e){const o=(0,d.oR)();return(0,s.Fl)({get:()=>o.state[t],set:t=>o.dispatch(e,t)})}const c=(0,s.Uk)("Add Post"),u={class:"controls-wrapper"},p={for:"title"},v=(0,s.Uk)(" Post title "),_={for:"body"},w=(0,s.Uk)(" Post body "),m={class:"controls-actions"},g=(0,s.Uk)("Cancel"),y=(0,s.Uk)(" Save ");var f={__name:"AddPostComponent",setup(t){const e=i("post.title","setPostTitle"),o=i("post.body","setPostBody");return(t,d)=>{const i=(0,s.Q2)("auto-focus");return(0,s.wg)(),(0,s.j4)(l.Z,null,{trigger:(0,s.w5)((()=>[(0,s.Wm)(r.Z,null,{default:(0,s.w5)((()=>[c])),_:1})])),content:(0,s.w5)((({close:l})=>[(0,s._)("div",u,[(0,s._)("label",p,[v,(0,s.wy)((0,s._)("input",{type:"text",id:"title",name:"title",placeholder:"Post title","onUpdate:modelValue":d[0]||(d[0]=t=>(0,n.dq)(e)?e.value=t:null)},null,512),[[a.nr,(0,n.SU)(e),void 0,{trim:!0}],[i]])]),(0,s._)("label",_,[w,(0,s.wy)((0,s._)("input",{type:"text",id:"body",name:"body",placeholder:"Post body","onUpdate:modelValue":d[1]||(d[1]=t=>(0,n.dq)(o)?o.value=t:null)},null,512),[[a.nr,(0,n.SU)(o),void 0,{trim:!0}]])])]),(0,s._)("div",m,[(0,s.Wm)(r.Z,{type:"danger",onClick:l},{default:(0,s.w5)((()=>[g])),_:2},1032,["onClick"]),(0,s.Wm)(r.Z,{type:"success",onClick:e=>{t.$store.dispatch("addPost"),l()}},{default:(0,s.w5)((()=>[y])),_:2},1032,["onClick"])])])),_:1})}}},b=o(89);const k=(0,b.Z)(f,[["__scopeId","data-v-6b9b5971"]]);var h=k,Z=o(9945),P=o(2268);const C=t=>((0,s.dD)("data-v-6214d28e"),t=t(),(0,s.Cn)(),t),U=C((()=>(0,s._)("option",{disabled:"",selected:"",hidden:"",value:""},"Sort posts by...",-1))),D=["value"];var W={__name:"SelectComponent",setup(t){const e=i("sortBy","setSort");return(t,o)=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>(0,n.dq)(e)?e.value=t:null)},[U,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.$store.state.sortOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.name,value:t.name},(0,P.zw)(t.label),9,D)))),128))],512)),[[a.bM,(0,n.SU)(e)]])}};const I=(0,b.Z)(W,[["__scopeId","data-v-6214d28e"]]);var M=I;const S={class:"post"},$={class:"post-body"},q={class:"post-actions"},L=(0,s.Uk)(" Remove ");var H={__name:"PostComponent",props:{post:{type:Object,required:!0}},setup(t){const e=t;return(o,n)=>((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("div",{class:"post-header",onMousedown:n[0]||(n[0]=(0,a.iM)((e=>o.$router.push("/post/"+t.post.id)),["stop"]))},(0,P.zw)(e.post.title),33),(0,s._)("div",$,(0,P.zw)(e.post.body),1),(0,s._)("div",q,[(0,s.Wm)(r.Z,{type:"danger",onClick:n[1]||(n[1]=(0,a.iM)((t=>o.$store.dispatch("removePost",e.post.id)),["stop"]))},{default:(0,s.w5)((()=>[L])),_:1})])]))}};const j=(0,b.Z)(H,[["__scopeId","data-v-38ffd398"]]);var R=j;function V(t,e={}){const o=(0,d.oR)(),s={...e,rootMargin:"0px",threshold:1},n=(e,s)=>{s.unobserve(t),!e[0].isIntersecting||o.state.isLoading||o.state.morePostsLoading||(o.dispatch("setPage"),o.dispatch("fetchMorePosts"))},a=new IntersectionObserver(n,s);window.addEventListener("scroll",(()=>{a.observe(t)}))}var Y=o(3494);const x={class:"posts-header"},z={class:"posts-wrapper"},B=(0,s.Uk)("No posts available"),F={key:0,class:"fetching-loader"};var O={__name:"PostsView",setup(t){const e=(0,n.iH)(null),o=(0,d.oR)(),l=(0,s.Fl)((()=>o.getters.postsLength)),r=(0,s.Fl)((()=>o.getters.searchedPosts)),c=i("searchQuery","setSearchQuery");return(0,s.bv)((()=>{o.getters.postsLength<=0&&o.dispatch("initPosts"),e.value&&V(e.value)})),(t,o)=>((0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(Z.Z,null,{default:(0,s.w5)((()=>[(0,s._)("div",x,[(0,s.Wm)(h),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>(0,n.dq)(c)?c.value=t:null),class:"search-input",placeholder:"Search post"},null,512),[[a.nr,(0,n.SU)(c),void 0,{trim:!0}]]),(0,s.Wm)(M)])]),(0,s._)("div",z,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,n.SU)(r),(t=>((0,s.wg)(),(0,s.j4)(R,{key:t.id,post:t},null,8,["post"])))),128))]),0===(0,n.SU)(l)?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[B],64)):(0,s.kq)("",!0)])),_:1}),(0,s._)("div",{class:"observer",ref_key:"observer",ref:e},[t.$store.state.morePostsLoading?((0,s.wg)(),(0,s.iD)("div",F,[(0,s.Wm)(Y.Z)])):(0,s.kq)("",!0)],512)],64))}};const Q=(0,b.Z)(O,[["__scopeId","data-v-08500287"]]);var A=Q}}]);
//# sourceMappingURL=357.65604de7.js.map